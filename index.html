<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Risk Ladderâ„¢</title>

<style>
body{
    margin:0;
    background:#0f1117;
    font-family:system-ui, -apple-system, sans-serif;
    color:#e6edf3;
    text-align:center;
}

h1{
    margin-top:20px;
    font-weight:500;
    letter-spacing:1px;
}

#ladder{
    display:flex;
    flex-direction:column-reverse;
    align-items:center;
    margin-top:30px;
    gap:10px;
}

.step{
    width:180px;
    padding:14px;
    border-radius:12px;
    background:#1c2128;
    font-size:18px;
    transition:all .35s ease;
    opacity:.4;
}

.active{
    background:#00c896;
    color:#000;
    opacity:1;
    transform:scale(1.05);
}

.hype{
    box-shadow:0 0 18px rgba(0,200,150,.5);
}

#rollBox{
    margin-top:25px;
    font-size:20px;
    height:30px;
}

#status{
    margin-top:10px;
    font-size:16px;
    opacity:.8;
}

#controls{
    position:fixed;
    bottom:25px;
    width:100%;
}

button{
    padding:14px 30px;
    margin:8px;
    border:none;
    border-radius:10px;
    background:#00c896;
    font-size:16px;
    cursor:pointer;
}

button:active{
    transform:scale(.95);
}
</style>
</head>

<body>

<h1>Risk Ladder</h1>

<input type="number" id="bet" value="10" style="margin-top:10px;padding:6px;border-radius:6px;border:none;">

<div id="ladder"></div>

<div id="rollBox"></div>
<div id="status"></div>

<div id="controls">
<button onclick="climb()">Climb</button>
<button onclick="cashOut()">Cash Out</button>
</div>

<script>

let baseMultipliers=[1.05,1.15,1.35,1.7,2.5,4,7,15,50,250];
let survival=[0.99,0.98,0.96,0.94,0.90,0.82,0.70,0.50,0.25,0.10];

let step=-1;
let active=false;

let momentum=0;
let momentumActive=false;
let momentumLeft=0;
let legendaryUsed=false;

const ladder=document.getElementById("ladder");

function build(){
    ladder.innerHTML="";
    baseMultipliers.forEach((m,i)=>{
        let div=document.createElement("div");
        div.className="step";
        div.id="s"+i;
        div.innerHTML=m+"x";
        ladder.appendChild(div);
    });
}

function start(){
    step=-1;
    active=true;
    momentum=0;
    momentumActive=false;
    momentumLeft=0;
    legendaryUsed=false;
    document.getElementById("status").innerHTML="";
}

function animateRoll(target, callback){
    let rollBox=document.getElementById("rollBox");
    let count=0;
    let interval=setInterval(()=>{
        rollBox.innerHTML="Roll: "+(Math.random()*100).toFixed(1);
        count++;
        if(count>15){
            clearInterval(interval);
            rollBox.innerHTML="Roll: "+target.toFixed(1);
            callback();
        }
    },40);
}

function climb(){

    if(!active) start();

    if(step>=baseMultipliers.length-1) return;

    step++;

    let roll=Math.random()*100;
    let threshold=survival[step]*100;

    if(momentumActive) threshold*=1.05;

    animateRoll(roll,()=>{

        if(!legendaryUsed && step>=7 && roll>threshold-1 && roll<=threshold){
            legendaryUsed=true;
            document.getElementById("status").innerHTML="Legendary Save Activated";
            activateStep();
            return;
        }

        if(roll>threshold){
            document.getElementById("status").innerHTML="Collapse";
            active=false;
            return;
        }

        activateStep();
    });

}

function activateStep(){
    let div=document.getElementById("s"+step);
    div.classList.add("active");

    if(step>=6) div.classList.add("hype");

    momentum++;

    if(momentum>=3 && !momentumActive){
        momentumActive=true;
        momentumLeft=2;
        document.getElementById("status").innerHTML="Momentum Mode";
    }

    if(momentumActive){
        momentumLeft--;
        if(momentumLeft<=0){
            momentumActive=false;
            momentum=0;
        }
    }
}

function cashOut(){
    if(!active || step<0) return;

    let bet=parseFloat(document.getElementById("bet").value);
    let mult=baseMultipliers[step];

    if(momentumActive) mult*=1.05;

    let payout=bet*mult;

    document.getElementById("status").innerHTML="Cashed Out: $"+payout.toFixed(2);
    active=false;
}

build();

</script>

</body>
</html>
